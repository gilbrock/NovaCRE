<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NovaCRE - Candidate Evaluation System</title>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://cdn.jsdelivr.net/npm/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
      background: #f5f5f5;
      color: #333;
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Header */
    .header {
      background: #ffffff;
      border-bottom: 2px solid #e0e0e0;
      padding: 24px 0;
      margin-bottom: 30px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .header-content {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 32px;
      font-weight: 300;
      letter-spacing: 1px;
      color: #5b9bd5;
    }

    .logo span {
      font-weight: 600;
    }

    .header-actions {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    /* Buttons */
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: #5b9bd5;
      color: #fff;
      border: 1px solid #4a8ac4;
    }

    .btn-primary:hover {
      background: #4a8ac4;
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: #ffffff;
      color: #666;
      border: 1px solid #d0d0d0;
    }

    .btn-secondary:hover {
      background: #f5f5f5;
      color: #333;
    }

    .btn-compare {
      background: #5b9bd5;
      color: #fff;
      border: none;
    }

    .btn-compare:hover {
      background: #4a8ac4;
    }

    .btn-back {
      background: #ffffff;
      color: #666;
      border: 1px solid #d0d0d0;
      padding: 8px 16px;
      font-size: 13px;
    }

    .btn-back:hover {
      background: #f5f5f5;
    }

    /* Upload Area */
    .upload-section {
      background: #ffffff;
      border: 2px dashed #d0d0d0;
      border-radius: 12px;
      padding: 60px 40px;
      text-align: center;
      margin-bottom: 30px;
    }

    .upload-section h2 {
      font-size: 24px;
      font-weight: 400;
      margin-bottom: 12px;
      color: #333;
    }

    .upload-section p {
      color: #666;
      margin-bottom: 24px;
    }

    .upload-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
    }

    input[type="file"] {
      display: none;
    }

    /* Filters */
    .filters {
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 24px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .filters-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .filter-group label {
      font-size: 12px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 500;
    }

    .filter-group select,
    .filter-group input {
      padding: 10px;
      border: 1px solid #d0d0d0;
      border-radius: 6px;
      background: #ffffff;
      color: #333;
      font-size: 14px;
    }

    .filter-group select:focus,
    .filter-group input:focus {
      outline: none;
      border-color: #5b9bd5;
    }

    /* Cards Grid */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .candidate-card {
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .candidate-card:hover {
      transform: translateY(-2px);
      border-color: #5b9bd5;
      box-shadow: 0 4px 12px rgba(91, 155, 213, 0.2);
    }

    .candidate-card.flagged {
      border-color: #5b9bd5;
      box-shadow: 0 0 0 2px #5b9bd5;
    }

    .candidate-card.selected {
      background: #e3f2fd;
      border-color: #5b9bd5;
    }

    .card-header {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
      align-items: start;
    }

    .card-photo {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: #999;
      overflow: hidden;
      flex-shrink: 0;
      border: 2px solid #e0e0e0;
    }

    .card-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .card-info {
      flex: 1;
      min-width: 0;
    }

    .card-name {
      font-size: 18px;
      font-weight: 600;
      color: #333;
      margin-bottom: 4px;
    }

    .card-company {
      font-size: 14px;
      color: #666;
      margin-bottom: 2px;
    }

    .card-title {
      font-size: 13px;
      color: #888;
    }

    .card-composite-score {
      text-align: center;
      padding: 12px;
      background: #f8f9fa;
      border-radius: 6px;
      margin-bottom: 16px;
      border: 1px solid #e0e0e0;
    }

    .composite-label {
      font-size: 11px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 4px;
    }

    .composite-value {
      font-size: 28px;
      font-weight: 700;
      color: #5b9bd5;
    }

    .card-scores {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 12px;
    }

    .score-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .score-label {
      font-size: 11px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.3px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .score-value-text {
      font-size: 12px;
      font-weight: 600;
      color: #5b9bd5;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e0e0e0;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: #5b9bd5;
      border-radius: 4px;
      transition: width 0.3s ease;
    }

    .progress-fill.low {
      background: #999;
    }

    .progress-fill.medium {
      background: #7cb5e8;
    }

    .progress-fill.high {
      background: #5b9bd5;
    }

    .card-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    .meta-tag {
      padding: 4px 10px;
      background: #f0f0f0;
      border: 1px solid #d0d0d0;
      border-radius: 4px;
      font-size: 11px;
      color: #666;
    }

    .card-select {
      position: absolute;
      top: 16px;
      right: 50px;
    }

    .card-select input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
    }

    .flag-btn {
      position: absolute;
      top: 16px;
      right: 16px;
      background: transparent;
      border: none;
      cursor: pointer;
      font-size: 20px;
      padding: 4px;
      transition: transform 0.2s;
    }

    .flag-btn:hover {
      transform: scale(1.2);
    }

    /* Comparison View */
    .comparison-view {
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 30px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .comparison-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid #e0e0e0;
    }

    .comparison-header h2 {
      font-size: 24px;
      font-weight: 400;
      color: #333;
    }

    .comparison-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
    }

    .comparison-card {
      background: #f8f9fa;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 24px;
    }

    .comparison-photo {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: #ffffff;
      margin: 0 auto 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      color: #999;
      overflow: hidden;
      border: 2px solid #e0e0e0;
    }

    .comparison-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .comparison-name {
      text-align: center;
      font-size: 18px;
      font-weight: 600;
      color: #333;
      margin-bottom: 4px;
    }

    .comparison-company {
      text-align: center;
      font-size: 14px;
      color: #666;
      margin-bottom: 20px;
    }

    .comparison-scores {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .comparison-score-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #e0e0e0;
    }

    .comparison-score-label {
      font-size: 12px;
      color: #666;
    }

    .comparison-score-value {
      font-size: 16px;
      font-weight: 600;
      color: #5b9bd5;
    }

    /* Detail View */
    .detail-view {
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 40px;
      max-width: 900px;
      margin: 0 auto;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .detail-header {
      display: flex;
      gap: 30px;
      margin-bottom: 40px;
      padding-bottom: 30px;
      border-bottom: 2px solid #e0e0e0;
    }

    .detail-photo {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      background: #f0f0f0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
      color: #999;
      overflow: hidden;
      flex-shrink: 0;
      border: 3px solid #e0e0e0;
    }

    .detail-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .detail-info {
      flex: 1;
    }

    .detail-name {
      font-size: 32px;
      font-weight: 600;
      color: #333;
      margin-bottom: 8px;
    }

    .detail-company {
      font-size: 18px;
      color: #666;
      margin-bottom: 4px;
    }

    .detail-title {
      font-size: 16px;
      color: #888;
      margin-bottom: 20px;
    }

    .detail-contact {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 16px;
    }

    .detail-contact-item {
      font-size: 14px;
      color: #666;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .detail-contact-item a {
      color: #5b9bd5;
      text-decoration: none;
    }

    .detail-contact-item a:hover {
      text-decoration: underline;
    }

    .detail-section {
      margin-bottom: 30px;
    }

    .detail-section-title {
      font-size: 18px;
      font-weight: 600;
      color: #333;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 1px solid #e0e0e0;
    }

    .detail-scores-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 20px;
    }

    .detail-score-card {
      background: #f8f9fa;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 20px;
      text-align: center;
    }

    .detail-score-label {
      font-size: 12px;
      color: #666;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .detail-score-value {
      font-size: 36px;
      font-weight: 700;
      color: #5b9bd5;
    }

    .detail-info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .detail-info-item {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .detail-info-label {
      font-size: 12px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .detail-info-value {
      font-size: 15px;
      color: #333;
    }

    .stats-summary {
      text-align: center;
      padding: 20px;
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      margin-bottom: 24px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .stats-summary h3 {
      font-size: 16px;
      color: #666;
      margin-bottom: 12px;
      font-weight: 400;
    }

    .stats-number {
      font-size: 36px;
      font-weight: 700;
      color: #5b9bd5;
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #888;
    }

    .empty-state-icon {
      font-size: 48px;
      margin-bottom: 16px;
      opacity: 0.5;
    }

    .empty-state h3 {
      font-size: 20px;
      color: #666;
      margin-bottom: 8px;
      font-weight: 400;
    }

    .back-navigation {
      margin-bottom: 20px;
    }

    /* Splash Screen */
    .splash-screen {
      position: relative;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .splash-video-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      overflow: hidden;
    }

    .splash-video-background video {
      position: absolute;
      top: 50%;
      left: 50%;
      min-width: 100%;
      min-height: 100%;
      width: auto;
      height: auto;
      transform: translate(-50%, -50%);
      object-fit: cover;
    }

    .splash-video-background::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.85);
      z-index: 1;
      pointer-events: none;
    }

    .splash-content {
      position: relative;
      z-index: 2;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex: 1;
      padding: 60px 20px;
    }

    .splash-logo {
      font-size: 72px;
      font-weight: 300;
      letter-spacing: 2px;
      color: #2c3e50;
      margin-bottom: 16px;
      text-align: center;
    }

    .splash-logo span {
      font-weight: 600;
      color: #5b9bd5;
    }

    .splash-tagline {
      font-size: 18px;
      color: #666;
      margin-bottom: 60px;
      text-align: center;
      font-weight: 400;
      letter-spacing: 0.5px;
    }

    .splash-nav {
      display: flex;
      gap: 20px;
      margin-bottom: 80px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .splash-nav-btn {
      padding: 20px 40px;
      background: #5b9bd5;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      min-width: 180px;
    }

    .splash-nav-btn:hover {
      background: #4a8ac4;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .splash-nav-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    .splash-footer {
      position: relative;
      z-index: 2;
      background: rgba(255, 255, 255, 0.95);
      border-top: 1px solid #e0e0e0;
      padding: 30px 20px;
      text-align: center;
    }

    .splash-footer-title {
      font-size: 14px;
      color: #666;
      margin-bottom: 16px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .splash-footer-buttons {
      display: flex;
      gap: 16px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 16px;
    }

    .splash-footer-link {
      font-size: 12px;
      color: #999;
      cursor: pointer;
      text-decoration: underline;
    }

    .splash-footer-link:hover {
      color: #5b9bd5;
    }

    /* Search Page */
    .search-page {
      max-width: 800px;
      margin: 0 auto;
    }

    .search-box {
      background: #ffffff;
      border: 2px solid #5b9bd5;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 30px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .search-box input {
      width: 100%;
      padding: 16px;
      border: 1px solid #d0d0d0;
      border-radius: 8px;
      font-size: 18px;
      background: #ffffff;
      color: #333;
    }

    .search-box input:focus {
      outline: none;
      border-color: #5b9bd5;
    }

    .search-results-count {
      font-size: 16px;
      color: #666;
      margin-bottom: 20px;
      text-align: center;
    }

    @media (max-width: 768px) {
      .cards-grid {
        grid-template-columns: 1fr;
      }

      .comparison-grid {
        grid-template-columns: 1fr;
      }

      .detail-header {
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .filters-row {
        grid-template-columns: 1fr;
      }

      .header-content {
        flex-direction: column;
        gap: 16px;
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useMemo } = React;

    function App() {
      const [candidates, setCandidates] = useState([]);
      const [photos, setPhotos] = useState({});
      const [flaggedCandidates, setFlaggedCandidates] = useState(new Set());
      const [selectedCandidates, setSelectedCandidates] = useState(new Set());
      const [filters, setFilters] = useState({
        sector: 'all',
        firmType: 'all',
        seniority: 'all',
        availability: 'all',
        hasPhoto: 'all',
        onContract: 'all',
        onTeam: 'all',
        female: 'all',
        poc: 'all',
        search: ''
      });
      const [sortBy, setSortBy] = useState('composite');
      const [view, setView] = useState('splash'); // splash, list, compare, detail, search
      const [selectedCandidate, setSelectedCandidate] = useState(null);
      const [previousView, setPreviousView] = useState(null);
      const [loading, setLoading] = useState(true);

      // Load data from localStorage on mount
      useEffect(() => {
        const savedCandidates = localStorage.getItem('novacre_candidates');
        const savedPhotos = localStorage.getItem('novacre_photos');
        const savedFlagged = localStorage.getItem('novacre_flagged');
        const savedSelected = localStorage.getItem('novacre_selected');

        if (savedCandidates) {
          setCandidates(JSON.parse(savedCandidates));
        }
        if (savedPhotos) {
          setPhotos(JSON.parse(savedPhotos));
        }
        if (savedFlagged) {
          setFlaggedCandidates(new Set(JSON.parse(savedFlagged)));
        }
        if (savedSelected) {
          setSelectedCandidates(new Set(JSON.parse(savedSelected)));
        }

        setLoading(false);

        // Also try to auto-load from files if no saved data
        if (!savedCandidates) {
          fetch('candidates.csv')
            .then(response => response.text())
            .then(csvText => {
              Papa.parse(csvText, {
                header: true,
                skipEmptyLines: true,
                complete: (results) => {
                  setCandidates(results.data);
                  localStorage.setItem('novacre_candidates', JSON.stringify(results.data));
                  loadPhotos();
                }
              });
            })
            .catch(err => {
              console.log('No auto-load data found');
            });
        }
      }, []);

      // Save candidates to localStorage whenever they change
      useEffect(() => {
        if (candidates.length > 0) {
          localStorage.setItem('novacre_candidates', JSON.stringify(candidates));
        }
      }, [candidates]);

      // Save photos to localStorage whenever they change
      useEffect(() => {
        if (Object.keys(photos).length > 0) {
          localStorage.setItem('novacre_photos', JSON.stringify(photos));
        }
      }, [photos]);

      // Save flagged candidates to localStorage
      useEffect(() => {
        localStorage.setItem('novacre_flagged', JSON.stringify(Array.from(flaggedCandidates)));
      }, [flaggedCandidates]);

      // Save selected candidates to localStorage
      useEffect(() => {
        localStorage.setItem('novacre_selected', JSON.stringify(Array.from(selectedCandidates)));
      }, [selectedCandidates]);

      // Auto-load photos
      const loadPhotos = async () => {
        const photoFiles = [
          'Avison_Young_-_Clayton_Duewel.jpg',
          'Avison_Young_-_Collin_Roach.jpg',
          'Avison_Young_-_Courtney_Buckout.jpg',
          'Avison_Young_-_Dawson_Smith.jpg',
          'Avison_Young_-_Marti_Grizzle.jpg',
          'CBRE_-_Andres_Contreras.jpg',
          'CBRE_-_Angela_Barber.jpg',
          'CBRE_-_Charlie_Drost.jpg',
          'CBRE_-_Claire_Douthit.jpg',
          'CBRE_-_Greg_Holmes.jpg',
          'CBRE_-_Jack_Callaghan.jpg',
          'CBRE_-_Jay_Berry.jpg'
        ];

        const photoMap = {};
        for (const filename of photoFiles) {
          try {
            const response = await fetch(filename);
            if (response.ok) {
              const blob = await response.blob();
              const dataUrl = await new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = () => resolve(reader.result);
                reader.readAsDataURL(blob);
              });
              
              // Parse filename: "Company - Name.jpg"
              const nameWithoutExt = filename.replace(/\.(jpg|jpeg|png)$/i, '');
              const parts = nameWithoutExt.split(' - ');
              if (parts.length >= 2) {
                const company = parts[0].replace(/_/g, ' ').trim();
                const name = parts.slice(1).join(' - ').replace(/_/g, ' ').trim();
                const key = `${company}|||${name}`;
                photoMap[key] = dataUrl;
              }
            }
          } catch (err) {
            console.log(`Could not load ${filename}`);
          }
        }
        setPhotos(photoMap);
      };

      // Handle CSV upload
      const handleCSVUpload = (event) => {
        const file = event.target.files[0];
        if (file) {
          Papa.parse(file, {
            header: true,
            skipEmptyLines: true,
            complete: (results) => {
              setCandidates(results.data);
              localStorage.setItem('novacre_candidates', JSON.stringify(results.data));
              setView('list');
            }
          });
        }
      };

      // Handle photos upload
      const handlePhotosUpload = (event) => {
        const files = Array.from(event.target.files);
        const photoMap = {...photos};
        
        let processed = 0;
        files.forEach(file => {
          // Extract company and name from filename: "Company - Name.jpg"
          const filename = file.name.replace(/\.(jpg|jpeg|png)$/i, '');
          const parts = filename.split(' - ');
          if (parts.length >= 2) {
            const company = parts[0].trim();
            const name = parts.slice(1).join(' - ').trim();
            const key = `${company}|||${name}`;
            
            const reader = new FileReader();
            reader.onload = (e) => {
              photoMap[key] = e.target.result;
              processed++;
              if (processed === files.length) {
                setPhotos(photoMap);
                localStorage.setItem('novacre_photos', JSON.stringify(photoMap));
              }
            };
            reader.readAsDataURL(file);
          } else {
            processed++;
          }
        });
      };

      // Clear all data
      const clearAllData = () => {
        if (confirm('Are you sure you want to clear all data? This cannot be undone.')) {
          localStorage.removeItem('novacre_candidates');
          localStorage.removeItem('novacre_photos');
          localStorage.removeItem('novacre_flagged');
          localStorage.removeItem('novacre_selected');
          setCandidates([]);
          setPhotos({});
          setFlaggedCandidates(new Set());
          setSelectedCandidates(new Set());
          setView('splash');
        }
      };

      // Get photo for candidate
      const getPhotoForCandidate = (candidate) => {
        const key = `${candidate.Company}|||${candidate.Name}`;
        return photos[key] || null;
      };

      // Toggle flag
      const toggleFlag = (candidate, event) => {
        event.stopPropagation();
        setFlaggedCandidates(prev => {
          const newSet = new Set(prev);
          const key = `${candidate.Company}-${candidate.Name}`;
          if (newSet.has(key)) {
            newSet.delete(key);
          } else {
            newSet.add(key);
          }
          return newSet;
        });
      };

      // Check if candidate is flagged
      const isFlagged = (candidate) => {
        return flaggedCandidates.has(`${candidate.Company}-${candidate.Name}`);
      };

      // Parse score
      const parseScore = (value) => {
        const num = parseFloat(value);
        return isNaN(num) ? 0 : num;
      };

      // Calculate composite score
      const getCompositeScore = (candidate) => {
        const scores = [
          parseScore(candidate['Availability Score (1-5)']),
          parseScore(candidate['Culture Score (1-5)']),
          parseScore(candidate['Leadership Potential (1-5)']),
          parseScore(candidate['Deal Score (1-5)']),
          parseScore(candidate['Diversity Score (1-5)']),
          parseScore(candidate['Override (1-5)'])
        ];
        const total = scores.reduce((sum, score) => sum + score, 0);
        return total;
      };

      // Toggle selection
      const toggleSelection = (candidate, event) => {
        event.stopPropagation();
        setSelectedCandidates(prev => {
          const newSet = new Set(prev);
          const key = `${candidate.Company}-${candidate.Name}`;
          if (newSet.has(key)) {
            newSet.delete(key);
          } else {
            newSet.add(key);
          }
          return newSet;
        });
      };

      // Check if candidate is selected
      const isSelected = (candidate) => {
        return selectedCandidates.has(`${candidate.Company}-${candidate.Name}`);
      };

      // Get score class
      const getScoreClass = (score) => {
        if (score >= 4) return 'high';
        if (score >= 3) return 'medium';
        return 'low';
      };

      // Filter and sort candidates
      const filteredAndSortedCandidates = useMemo(() => {
        let filtered = candidates.filter(candidate => {
          if (filters.sector !== 'all' && candidate['Sector Classification'] !== filters.sector) return false;
          if (filters.firmType !== 'all' && candidate['Firm Type'] !== filters.firmType) return false;
          if (filters.seniority !== 'all' && candidate['Seniority Classification'] !== filters.seniority) return false;
          if (filters.availability !== 'all') {
            const availScore = parseScore(candidate['Availability Score (1-5)']);
            if (filters.availability === 'high' && availScore < 4) return false;
            if (filters.availability === 'low' && availScore >= 3) return false;
          }
          if (filters.hasPhoto !== 'all') {
            const hasPhoto = getPhotoForCandidate(candidate) !== null;
            if (filters.hasPhoto === 'yes' && !hasPhoto) return false;
            if (filters.hasPhoto === 'no' && hasPhoto) return false;
          }
          if (filters.onContract !== 'all' && candidate['On Contract (Yes/No)'] !== filters.onContract) return false;
          if (filters.onTeam !== 'all' && candidate['On A Team (Yes/No)'] !== filters.onTeam) return false;
          if (filters.female !== 'all' && candidate['Female'] !== filters.female) return false;
          if (filters.poc !== 'all' && candidate['POC'] !== filters.poc) return false;
          if (filters.search) {
            const searchLower = filters.search.toLowerCase();
            return candidate.Name?.toLowerCase().includes(searchLower) ||
                   candidate.Company?.toLowerCase().includes(searchLower) ||
                   candidate.Title?.toLowerCase().includes(searchLower);
          }
          return true;
        });

        // Sort
        filtered.sort((a, b) => {
          switch (sortBy) {
            case 'name':
              return (a.Name || '').localeCompare(b.Name || '');
            case 'company':
              return (a.Company || '').localeCompare(b.Company || '');
            case 'composite':
              return getCompositeScore(b) - getCompositeScore(a);
            case 'availability':
              return parseScore(b['Availability Score (1-5)']) - parseScore(a['Availability Score (1-5)']);
            case 'culture':
              return parseScore(b['Culture Score (1-5)']) - parseScore(a['Culture Score (1-5)']);
            case 'leadership':
              return parseScore(b['Leadership Potential (1-5)']) - parseScore(a['Leadership Potential (1-5)']);
            case 'deal':
              return parseScore(b['Deal Score (1-5)']) - parseScore(a['Deal Score (1-5)']);
            default:
              return 0;
          }
        });

        return filtered;
      }, [candidates, filters, sortBy, photos]);

      // Get unique values for filters
      const filterOptions = useMemo(() => {
        return {
          sectors: [...new Set(candidates.map(c => c['Sector Classification']).filter(Boolean))].sort(),
          firmTypes: [...new Set(candidates.map(c => c['Firm Type']).filter(Boolean))].sort(),
          seniorities: [...new Set(candidates.map(c => c['Seniority Classification']).filter(Boolean))].sort()
        };
      }, [candidates]);

      // Get comparison candidates (selected or top 5 or flagged)
      const comparisonCandidates = useMemo(() => {
        // If candidates are selected, use those
        if (selectedCandidates.size > 0) {
          return candidates.filter(c => isSelected(c)).slice(0, 10);
        }
        
        const flagged = candidates.filter(c => isFlagged(c));
        if (flagged.length > 0) return flagged.slice(0, 5);
        
        // Get top 5 by composite score
        return [...candidates]
          .sort((a, b) => getCompositeScore(b) - getCompositeScore(a))
          .slice(0, 5);
      }, [candidates, flaggedCandidates, selectedCandidates]);

      // Handle view changes
      const goToDetail = (candidate) => {
        setPreviousView({ view, filters, sortBy });
        setSelectedCandidate(candidate);
        setView('detail');
      };

      const goToCompare = () => {
        setPreviousView({ view, filters, sortBy });
        setView('compare');
      };

      const goBack = () => {
        if (previousView && previousView.view !== 'splash') {
          setView(previousView.view);
          setFilters(previousView.filters);
          setSortBy(previousView.sortBy);
          setPreviousView(null);
        } else {
          setView('splash');
        }
        setSelectedCandidate(null);
      };

      return (
        <>
          {view !== 'splash' && (
            <div className="header">
              <div className="header-content">
                <div className="logo" style={{cursor: 'pointer'}} onClick={() => setView('splash')}>
                  nova<span>CRE</span>
                </div>
                <div className="header-actions">
                  {candidates.length > 0 && (
                    <>
                      {view !== 'compare' && selectedCandidates.size > 0 && (
                        <button className="btn btn-compare" onClick={goToCompare}>
                          Compare Selected ({selectedCandidates.size})
                        </button>
                      )}
                      {view !== 'compare' && selectedCandidates.size === 0 && (
                        <button className="btn btn-compare" onClick={goToCompare}>
                          Compare Top 5
                        </button>
                      )}
                    </>
                  )}
                </div>
              </div>
            </div>
          )}

          <div className="container">
            {view === 'splash' && (
              <div className="splash-screen">
                <div className="splash-video-background">
                  <video autoPlay loop muted playsInline>
                    <source src="skyline.mp4" type="video/mp4" />
                  </video>
                </div>
                
                <div className="splash-content">
                  <div className="splash-logo">
                    nova<span>CRE</span>
                  </div>
                  <div className="splash-tagline">
                    A Proprietary Commercial Real Estate Candidate Evaluation Tool
                  </div>
                  
                  {candidates.length > 0 ? (
                    <div className="splash-nav">
                      <button className="splash-nav-btn" onClick={() => setView('list')}>
                        üìã View Candidates
                      </button>
                      <button className="splash-nav-btn" onClick={() => setView('search')}>
                        üîç Search
                      </button>
                      <button className="splash-nav-btn" onClick={goToCompare}>
                        ‚öñÔ∏è Compare
                      </button>
                    </div>
                  ) : (
                    <div className="splash-nav">
                      <button className="splash-nav-btn" disabled>
                        No Data Loaded
                      </button>
                    </div>
                  )}
                </div>

                <div className="splash-footer">
                  <div className="splash-footer-title">Data Management</div>
                  <div className="splash-footer-buttons">
                    <label htmlFor="csv-upload-splash" className="btn btn-primary">
                      üìä Upload New CSV
                    </label>
                    <input
                      id="csv-upload-splash"
                      type="file"
                      accept=".csv"
                      onChange={handleCSVUpload}
                    />
                    <label htmlFor="photos-upload-splash" className="btn btn-secondary">
                      üì∑ Upload Photos
                    </label>
                    <input
                      id="photos-upload-splash"
                      type="file"
                      accept="image/*"
                      multiple
                      onChange={handlePhotosUpload}
                    />
                  </div>
                  {candidates.length > 0 && (
                    <div className="splash-footer-link" onClick={clearAllData}>
                      Clear all data
                    </div>
                  )}
                </div>
              </div>
            )}

            {view === 'search' && (
              <div className="search-page">
                <div className="back-navigation">
                  <button className="btn btn-back" onClick={() => setView('splash')}>
                    ‚Üê Back to Home
                  </button>
                </div>
                
                <div className="search-box">
                  <input
                    type="text"
                    placeholder="Search by name, company, or title..."
                    value={filters.search}
                    onChange={(e) => setFilters({...filters, search: e.target.value})}
                    autoFocus
                  />
                </div>

                {filters.search && (
                  <div className="search-results-count">
                    Found {filteredAndSortedCandidates.length} candidate{filteredAndSortedCandidates.length !== 1 ? 's' : ''}
                  </div>
                )}

                <div className="cards-grid">
                  {filteredAndSortedCandidates.map((candidate, idx) => {
                    const photo = getPhotoForCandidate(candidate);
                    const compositeScore = getCompositeScore(candidate);
                    
                    return (
                      <div
                        key={idx}
                        className={`candidate-card ${isFlagged(candidate) ? 'flagged' : ''} ${isSelected(candidate) ? 'selected' : ''}`}
                        onClick={() => goToDetail(candidate)}
                      >
                        <div className="card-select">
                          <input
                            type="checkbox"
                            checked={isSelected(candidate)}
                            onChange={(e) => toggleSelection(candidate, e)}
                            onClick={(e) => e.stopPropagation()}
                          />
                        </div>
                        <button
                          className="flag-btn"
                          onClick={(e) => toggleFlag(candidate, e)}
                        >
                          {isFlagged(candidate) ? '‚≠ê' : '‚òÜ'}
                        </button>
                        <div className="card-header">
                          <div className="card-photo">
                            {photo ? (
                              <img src={photo} alt={candidate.Name} />
                            ) : (
                              'üë§'
                            )}
                          </div>
                          <div className="card-info">
                            <div className="card-name">{candidate.Name}</div>
                            <div className="card-company">{candidate.Company}</div>
                            <div className="card-title">{candidate.Title}</div>
                          </div>
                        </div>
                        
                        <div className="card-composite-score">
                          <div className="composite-label">Composite Score</div>
                          <div className="composite-value">{compositeScore}/30</div>
                        </div>
                        
                        <div className="card-meta">
                          {candidate['Sector Classification'] && (
                            <span className="meta-tag">{candidate['Sector Classification']}</span>
                          )}
                          {candidate['Firm Type'] && (
                            <span className="meta-tag">{candidate['Firm Type']}</span>
                          )}
                        </div>
                      </div>
                    );
                  })}
                </div>

                {filteredAndSortedCandidates.length === 0 && filters.search && (
                  <div className="empty-state">
                    <div className="empty-state-icon">üîç</div>
                    <h3>No results found</h3>
                    <p>Try a different search term</p>
                  </div>
                )}
              </div>
            )}

            {loading ? (
              <div className="upload-section">
                <h2>Loading NovaCRE...</h2>
                <p>Please wait</p>
              </div>
            ) : view === 'list' && candidates.length === 0 ? (
              <div className="upload-section">
                <h2>Welcome to NovaCRE</h2>
                <p>Upload your candidate data and photos to get started</p>
                <div className="upload-buttons">
                  <label htmlFor="csv-upload" className="btn btn-primary">
                    üìä Upload CSV Data
                  </label>
                  <input
                    id="csv-upload"
                    type="file"
                    accept=".csv"
                    onChange={handleCSVUpload}
                  />
                  <label htmlFor="photos-upload" className="btn btn-secondary">
                    üì∑ Upload Photos
                  </label>
                  <input
                    id="photos-upload"
                    type="file"
                    accept="image/*"
                    multiple
                    onChange={handlePhotosUpload}
                  />
                </div>
              </div>
            ) : (
              <>
                {view === 'list' && (
                  <>
                    <div className="stats-summary">
                      <h3>Total Candidates</h3>
                      <div className="stats-number">{filteredAndSortedCandidates.length}</div>
                    </div>

                    <div className="filters">
                      <div className="filters-row">
                        <div className="filter-group">
                          <label>Search</label>
                          <input
                            type="text"
                            placeholder="Name, company, or title..."
                            value={filters.search}
                            onChange={(e) => setFilters({...filters, search: e.target.value})}
                          />
                        </div>
                        <div className="filter-group">
                          <label>Sector</label>
                          <select
                            value={filters.sector}
                            onChange={(e) => setFilters({...filters, sector: e.target.value})}
                          >
                            <option value="all">All Sectors</option>
                            {filterOptions.sectors.map(s => (
                              <option key={s} value={s}>{s}</option>
                            ))}
                          </select>
                        </div>
                        <div className="filter-group">
                          <label>Firm Type</label>
                          <select
                            value={filters.firmType}
                            onChange={(e) => setFilters({...filters, firmType: e.target.value})}
                          >
                            <option value="all">All Firm Types</option>
                            {filterOptions.firmTypes.map(f => (
                              <option key={f} value={f}>{f}</option>
                            ))}
                          </select>
                        </div>
                        <div className="filter-group">
                          <label>Seniority</label>
                          <select
                            value={filters.seniority}
                            onChange={(e) => setFilters({...filters, seniority: e.target.value})}
                          >
                            <option value="all">All Levels</option>
                            {filterOptions.seniorities.map(s => (
                              <option key={s} value={s}>{s}</option>
                            ))}
                          </select>
                        </div>
                        <div className="filter-group">
                          <label>Has Photo</label>
                          <select
                            value={filters.hasPhoto}
                            onChange={(e) => setFilters({...filters, hasPhoto: e.target.value})}
                          >
                            <option value="all">All</option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                          </select>
                        </div>
                        <div className="filter-group">
                          <label>On Contract</label>
                          <select
                            value={filters.onContract}
                            onChange={(e) => setFilters({...filters, onContract: e.target.value})}
                          >
                            <option value="all">All</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                          </select>
                        </div>
                        <div className="filter-group">
                          <label>On Team</label>
                          <select
                            value={filters.onTeam}
                            onChange={(e) => setFilters({...filters, onTeam: e.target.value})}
                          >
                            <option value="all">All</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                          </select>
                        </div>
                        <div className="filter-group">
                          <label>Female</label>
                          <select
                            value={filters.female}
                            onChange={(e) => setFilters({...filters, female: e.target.value})}
                          >
                            <option value="all">All</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                          </select>
                        </div>
                        <div className="filter-group">
                          <label>POC</label>
                          <select
                            value={filters.poc}
                            onChange={(e) => setFilters({...filters, poc: e.target.value})}
                          >
                            <option value="all">All</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                          </select>
                        </div>
                        <div className="filter-group">
                          <label>Sort By</label>
                          <select
                            value={sortBy}
                            onChange={(e) => setSortBy(e.target.value)}
                          >
                            <option value="composite">Composite Score</option>
                            <option value="name">Name</option>
                            <option value="company">Company</option>
                            <option value="availability">Availability Score</option>
                            <option value="culture">Culture Score</option>
                            <option value="leadership">Leadership Score</option>
                            <option value="deal">Deal Score</option>
                          </select>
                        </div>
                      </div>
                    </div>

                    <div className="cards-grid">
                      {filteredAndSortedCandidates.map((candidate, idx) => {
                        const photo = getPhotoForCandidate(candidate);
                        const availScore = parseScore(candidate['Availability Score (1-5)']);
                        const cultureScore = parseScore(candidate['Culture Score (1-5)']);
                        const leadershipScore = parseScore(candidate['Leadership Potential (1-5)']);
                        const dealScore = parseScore(candidate['Deal Score (1-5)']);
                        const diversityScore = parseScore(candidate['Diversity Score (1-5)']);
                        const overrideScore = parseScore(candidate['Override (1-5)']);
                        const compositeScore = getCompositeScore(candidate);
                        
                        return (
                          <div
                            key={idx}
                            className={`candidate-card ${isFlagged(candidate) ? 'flagged' : ''} ${isSelected(candidate) ? 'selected' : ''}`}
                            onClick={() => goToDetail(candidate)}
                          >
                            <div className="card-select">
                              <input
                                type="checkbox"
                                checked={isSelected(candidate)}
                                onChange={(e) => toggleSelection(candidate, e)}
                                onClick={(e) => e.stopPropagation()}
                              />
                            </div>
                            <button
                              className="flag-btn"
                              onClick={(e) => toggleFlag(candidate, e)}
                            >
                              {isFlagged(candidate) ? '‚≠ê' : '‚òÜ'}
                            </button>
                            <div className="card-header">
                              <div className="card-photo">
                                {photo ? (
                                  <img src={photo} alt={candidate.Name} />
                                ) : (
                                  'üë§'
                                )}
                              </div>
                              <div className="card-info">
                                <div className="card-name">{candidate.Name}</div>
                                <div className="card-company">{candidate.Company}</div>
                                <div className="card-title">{candidate.Title}</div>
                              </div>
                            </div>
                            
                            <div className="card-composite-score">
                              <div className="composite-label">Composite Score</div>
                              <div className="composite-value">{compositeScore}/30</div>
                            </div>
                            
                            <div className="card-scores">
                              <div className="score-item">
                                <div className="score-label">
                                  <span>Availability</span>
                                  <span className="score-value-text">{availScore}/5</span>
                                </div>
                                <div className="progress-bar">
                                  <div className={`progress-fill ${getScoreClass(availScore)}`} style={{width: `${(availScore / 5) * 100}%`}}></div>
                                </div>
                              </div>
                              <div className="score-item">
                                <div className="score-label">
                                  <span>Culture Fit</span>
                                  <span className="score-value-text">{cultureScore}/5</span>
                                </div>
                                <div className="progress-bar">
                                  <div className={`progress-fill ${getScoreClass(cultureScore)}`} style={{width: `${(cultureScore / 5) * 100}%`}}></div>
                                </div>
                              </div>
                              <div className="score-item">
                                <div className="score-label">
                                  <span>Leadership</span>
                                  <span className="score-value-text">{leadershipScore}/5</span>
                                </div>
                                <div className="progress-bar">
                                  <div className={`progress-fill ${getScoreClass(leadershipScore)}`} style={{width: `${(leadershipScore / 5) * 100}%`}}></div>
                                </div>
                              </div>
                              <div className="score-item">
                                <div className="score-label">
                                  <span>Deal Score</span>
                                  <span className="score-value-text">{dealScore}/5</span>
                                </div>
                                <div className="progress-bar">
                                  <div className={`progress-fill ${getScoreClass(dealScore)}`} style={{width: `${(dealScore / 5) * 100}%`}}></div>
                                </div>
                              </div>
                              <div className="score-item">
                                <div className="score-label">
                                  <span>Diversity</span>
                                  <span className="score-value-text">{diversityScore}/5</span>
                                </div>
                                <div className="progress-bar">
                                  <div className={`progress-fill ${getScoreClass(diversityScore)}`} style={{width: `${(diversityScore / 5) * 100}%`}}></div>
                                </div>
                              </div>
                              <div className="score-item">
                                <div className="score-label">
                                  <span>Override</span>
                                  <span className="score-value-text">{overrideScore}/5</span>
                                </div>
                                <div className="progress-bar">
                                  <div className={`progress-fill ${getScoreClass(overrideScore)}`} style={{width: `${(overrideScore / 5) * 100}%`}}></div>
                                </div>
                              </div>
                            </div>
                            <div className="card-meta">
                              {candidate['Sector Classification'] && (
                                <span className="meta-tag">{candidate['Sector Classification']}</span>
                              )}
                              {candidate['Firm Type'] && (
                                <span className="meta-tag">{candidate['Firm Type']}</span>
                              )}
                              {candidate['Seniority Classification'] && (
                                <span className="meta-tag">{candidate['Seniority Classification']}</span>
                              )}
                            </div>
                          </div>
                        );
                      })}
                    </div>

                    {filteredAndSortedCandidates.length === 0 && (
                      <div className="empty-state">
                        <div className="empty-state-icon">üîç</div>
                        <h3>No candidates found</h3>
                        <p>Try adjusting your filters</p>
                      </div>
                    )}
                  </>
                )}

                {view === 'compare' && (
                  <div className="comparison-view">
                    <div className="back-navigation">
                      <button className="btn btn-back" onClick={goBack}>
                        ‚Üê Back
                      </button>
                    </div>
                    <div className="comparison-header">
                      <h2>
                        {selectedCandidates.size > 0
                          ? `Selected Candidates Comparison (${comparisonCandidates.length})`
                          : flaggedCandidates.size > 0
                          ? 'Flagged Candidates Comparison'
                          : 'Top 5 Candidates Comparison'}
                      </h2>
                    </div>
                    <div className="comparison-grid">
                      {comparisonCandidates.map((candidate, idx) => {
                        const photo = getPhotoForCandidate(candidate);
                        const compositeScore = getCompositeScore(candidate);
                        return (
                          <div key={idx} className="comparison-card">
                            <div className="comparison-photo">
                              {photo ? (
                                <img src={photo} alt={candidate.Name} />
                              ) : (
                                'üë§'
                              )}
                            </div>
                            <div className="comparison-name">{candidate.Name}</div>
                            <div className="comparison-company">{candidate.Company}</div>
                            <div className="comparison-scores">
                              <div className="comparison-score-row" style={{borderBottom: '2px solid #e0e0e0', paddingBottom: '12px', marginBottom: '8px'}}>
                                <span className="comparison-score-label" style={{fontWeight: '600', color: '#333'}}>Composite Score</span>
                                <span className="comparison-score-value" style={{fontSize: '20px'}}>{compositeScore}/30</span>
                              </div>
                              <div className="comparison-score-row">
                                <span className="comparison-score-label">Availability</span>
                                <span className="comparison-score-value">
                                  {parseScore(candidate['Availability Score (1-5)']) || '-'}/5
                                </span>
                              </div>
                              <div className="comparison-score-row">
                                <span className="comparison-score-label">Culture Fit</span>
                                <span className="comparison-score-value">
                                  {parseScore(candidate['Culture Score (1-5)']) || '-'}/5
                                </span>
                              </div>
                              <div className="comparison-score-row">
                                <span className="comparison-score-label">Leadership</span>
                                <span className="comparison-score-value">
                                  {parseScore(candidate['Leadership Potential (1-5)']) || '-'}/5
                                </span>
                              </div>
                              <div className="comparison-score-row">
                                <span className="comparison-score-label">Deal Score</span>
                                <span className="comparison-score-value">
                                  {parseScore(candidate['Deal Score (1-5)']) || '-'}/5
                                </span>
                              </div>
                              <div className="comparison-score-row">
                                <span className="comparison-score-label">Diversity</span>
                                <span className="comparison-score-value">
                                  {parseScore(candidate['Diversity Score (1-5)']) || '-'}/5
                                </span>
                              </div>
                              <div className="comparison-score-row">
                                <span className="comparison-score-label">Override</span>
                                <span className="comparison-score-value">
                                  {parseScore(candidate['Override (1-5)']) || '-'}/5
                                </span>
                              </div>
                            </div>
                          </div>
                        );
                      })}
                    </div>
                  </div>
                )}

                {view === 'detail' && selectedCandidate && (
                  <div className="detail-view">
                    <div className="back-navigation">
                      <button className="btn btn-back" onClick={goBack}>
                        ‚Üê Back
                      </button>
                    </div>
                    <div className="detail-header">
                      <div className="detail-photo">
                        {getPhotoForCandidate(selectedCandidate) ? (
                          <img src={getPhotoForCandidate(selectedCandidate)} alt={selectedCandidate.Name} />
                        ) : (
                          'üë§'
                        )}
                      </div>
                      <div className="detail-info">
                        <div className="detail-name">{selectedCandidate.Name}</div>
                        <div className="detail-company">{selectedCandidate.Company}</div>
                        <div className="detail-title">{selectedCandidate.Title}</div>
                        <div className="detail-contact">
                          {selectedCandidate.Phone && (
                            <div className="detail-contact-item">
                              üìû <a href={`tel:${selectedCandidate.Phone}`}>{selectedCandidate.Phone}</a>
                            </div>
                          )}
                          {selectedCandidate.Email && (
                            <div className="detail-contact-item">
                              ‚úâÔ∏è <a href={`mailto:${selectedCandidate.Email}`}>{selectedCandidate.Email}</a>
                            </div>
                          )}
                          {selectedCandidate.LinkedIn && (
                            <div className="detail-contact-item">
                              üîó <a href={`https://${selectedCandidate.LinkedIn}`} target="_blank" rel="noopener noreferrer">LinkedIn</a>
                            </div>
                          )}
                        </div>
                      </div>
                    </div>

                    <div className="detail-section">
                      <div className="detail-section-title">Evaluation Scores</div>
                      <div className="detail-scores-grid">
                        <div className="detail-score-card">
                          <div className="detail-score-label">Availability</div>
                          <div className="detail-score-value">
                            {parseScore(selectedCandidate['Availability Score (1-5)']) || '-'}
                          </div>
                        </div>
                        <div className="detail-score-card">
                          <div className="detail-score-label">Culture Fit</div>
                          <div className="detail-score-value">
                            {parseScore(selectedCandidate['Culture Score (1-5)']) || '-'}
                          </div>
                        </div>
                        <div className="detail-score-card">
                          <div className="detail-score-label">Leadership</div>
                          <div className="detail-score-value">
                            {parseScore(selectedCandidate['Leadership Potential (1-5)']) || '-'}
                          </div>
                        </div>
                        <div className="detail-score-card">
                          <div className="detail-score-label">Deal Score</div>
                          <div className="detail-score-value">
                            {parseScore(selectedCandidate['Deal Score (1-5)']) || '-'}
                          </div>
                        </div>
                        <div className="detail-score-card">
                          <div className="detail-score-label">Diversity</div>
                          <div className="detail-score-value">
                            {parseScore(selectedCandidate['Diversity Score (1-5)']) || '-'}
                          </div>
                        </div>
                        <div className="detail-score-card">
                          <div className="detail-score-label">Override</div>
                          <div className="detail-score-value">
                            {parseScore(selectedCandidate['Override (1-5)']) || '-'}
                          </div>
                        </div>
                      </div>
                    </div>

                    <div className="detail-section">
                      <div className="detail-section-title">Professional Information</div>
                      <div className="detail-info-grid">
                        <div className="detail-info-item">
                          <div className="detail-info-label">Sector</div>
                          <div className="detail-info-value">{selectedCandidate['Sector Classification'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Firm Type</div>
                          <div className="detail-info-value">{selectedCandidate['Firm Type'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Seniority</div>
                          <div className="detail-info-value">{selectedCandidate['Seniority Classification'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Years at Firm</div>
                          <div className="detail-info-value">{selectedCandidate['Years at Current Firm'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">On Contract</div>
                          <div className="detail-info-value">{selectedCandidate['On Contract (Yes/No)'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Contract Expiration</div>
                          <div className="detail-info-value">{selectedCandidate['Contract Expiration'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Certifications</div>
                          <div className="detail-info-value">{selectedCandidate['CCIM or SIOR Certifications'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">On Team</div>
                          <div className="detail-info-value">{selectedCandidate['On A Team (Yes/No)'] || 'N/A'}</div>
                        </div>
                      </div>
                    </div>

                    <div className="detail-section">
                      <div className="detail-section-title">Deal Activity</div>
                      <div className="detail-info-grid">
                        <div className="detail-info-item">
                          <div className="detail-info-label">Total Deals</div>
                          <div className="detail-info-value">{selectedCandidate['TOTAL DEALS'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Lease Transactions (3Y)</div>
                          <div className="detail-info-value">{selectedCandidate['Lease Transactions SF (3Y)'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Lease Listings Portfolio</div>
                          <div className="detail-info-value">{selectedCandidate['Lease Listings Portfolio SF'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Sale Transactions (3Y)</div>
                          <div className="detail-info-value">{selectedCandidate['Sale Transactions SF (3Y)'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Sale Volume (3Y)</div>
                          <div className="detail-info-value">{selectedCandidate['Sale Transactions Volume (3Y)'] || 'N/A'}</div>
                        </div>
                        <div className="detail-info-item">
                          <div className="detail-info-label">Sale Listings</div>
                          <div className="detail-info-value">{selectedCandidate['Sale Listings SF'] || 'N/A'}</div>
                        </div>
                      </div>
                    </div>

                    {selectedCandidate['Recruiting Comments'] && (
                      <div className="detail-section">
                        <div className="detail-section-title">Recruiting Comments</div>
                        <div className="detail-info-value">{selectedCandidate['Recruiting Comments']}</div>
                      </div>
                    )}

                    {selectedCandidate['Revenue Potential Comments'] && (
                      <div className="detail-section">
                        <div className="detail-section-title">Revenue Potential Comments</div>
                        <div className="detail-info-value">{selectedCandidate['Revenue Potential Comments']}</div>
                      </div>
                    )}
                  </div>
                )}
              </>
            )}
          </div>
        </>
      );
    }

    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
